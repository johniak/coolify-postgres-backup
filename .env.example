# =============================================================================
# PostgreSQL Connection
# =============================================================================
PGHOST=your-postgres-container-name
PGPORT=5432
PGUSER=postgres
PGPASSWORD=your-secure-password
PGDATABASE=your_database_name

# =============================================================================
# Backblaze B2 / Restic
# =============================================================================
# Format: s3:https://s3.<region>.backblazeb2.com/<bucket-name>
RESTIC_REPOSITORY=s3:https://s3.us-west-004.backblazeb2.com/my-bucket

# Encryption password (SAVE THIS - without it backups are useless!)
RESTIC_PASSWORD=your-restic-encryption-password

# B2 Application Key (NOT master key!)
AWS_ACCESS_KEY_ID=your-b2-key-id
AWS_SECRET_ACCESS_KEY=your-b2-application-key
AWS_DEFAULT_REGION=us-west-004

# =============================================================================
# Backup Settings
# =============================================================================
BACKUP_TAG=postgres-backup
LOCAL_DUMPS_KEEP=90

# =============================================================================
# Retention (hours)
# =============================================================================
SHORT_RETENTION=72      # hourly snapshots (72h = 3 days)
LONG_RETENTION=1440     # daily snapshots (1440h = 60 days)

# =============================================================================
# Cron Schedules
# =============================================================================
# Format: "minute hour day month weekday"
#
# SHORT_CRON - when to run backup (dump + upload)
# LONG_CRON  - when to run prune (delete old data from B2)

# Every hour (default)
SHORT_CRON=0 * * * *
LONG_CRON=0 3 * * *

# Every 15 minutes:
# SHORT_CRON=*/15 * * * *
# LONG_CRON=0 3 * * *

# Every 6 hours:
# SHORT_CRON=0 */6 * * *
# LONG_CRON=0 3 * * *

# =============================================================================
# Coolify Network
# =============================================================================
# External Docker network where PostgreSQL runs
# Find with: docker network ls | grep coolify
COOLIFY_NETWORK=coolify

# =============================================================================
# Timezone
# =============================================================================
TZ=UTC

# =============================================================================
# Monitoring (Optional)
# =============================================================================
# Healthchecks.io ping URL (leave empty to disable)
HEALTHCHECKS_URL=
